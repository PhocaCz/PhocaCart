"use strict";function _readOnlyError(e){throw new TypeError('"'+e+'" is read-only')}function ownKeys(r,e){var t,i=Object.keys(r);return Object.getOwnPropertySymbols&&(t=Object.getOwnPropertySymbols(r),e&&(t=t.filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})),i.push.apply(i,t)),i}function _objectSpread(r){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(t),!0).forEach(function(e){_defineProperty(r,e,t[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(e){Object.defineProperty(r,e,Object.getOwnPropertyDescriptor(t,e))})}return r}function _defineProperty(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_unsupportedIterableToArray(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(t="Object"===t&&e.constructor?e.constructor.name:t)||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=new Array(r);t<r;t++)i[t]=e[t];return i}function _iterableToArrayLimit(e,r){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,l,a=[],o=!0,n=!1;try{for(t=t.call(e);!(o=(i=t.next()).done)&&(a.push(i.value),!r||a.length!==r);o=!0);}catch(e){n=!0,l=e}finally{try{o||null==t.return||t.return()}finally{if(n)throw l}}return a}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var phFilterNewUrlSet="",phFilterNewUrlRemove="",phFilterNewUrlSetPreviousParamWaiting=0,phFilterNewUrlRemovePreviousParamWaiting=0;function phEscapeRegExp(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function phReplaceAll(e,r,t){return t.replace(new RegExp(phEscapeRegExp(e),"g"),r)}function phEncode(e){e=encodeURIComponent(e);return e=phReplaceAll("%5B","[",e),e=phReplaceAll("%5D","]",e),e=phReplaceAll("%2C",",",e),e=phReplaceAll("%3A",":",e)}function phArrayToString(e){e=phReplaceAll("[","(",e);return e=phReplaceAll("]",")",e)}function phStringToArray(e){e=phReplaceAll("(","[",e);return e=phReplaceAll(")","]",e)}function phCleanArray(e){for(var r=[],t=0;t<e.length;t++)e[t]&&r.push(e[t]);return r}function phCleanEmptyParams(e){return e.replace(/&?[^&?]+=(?=(?:&|$))/g,"")}function phCleanAloneQuestionMark(e){return e="?"==(e="?&"==e?"?":e)?"":e}function phFilterValue(e){e=phReplaceAll("<","",e);return e=phReplaceAll(">","",e)}function phResetNewUrl(e){phFilterNewUrlSet=phFilterNewUrlRemove="",1==e&&(phFilterNewUrlSetPreviousParamWaiting=phFilterNewUrlRemovePreviousParamWaiting=0)}function phIsString(e){return"string"==typeof e}function phGetQueryString(e){return e.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function phUrlParam(e){if(null==e)return"";function o(e,r){null==(r="function"==typeof r?r():r)&&(r=""),t.push("".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(r)))}function n(t,e){if(Array.isArray(e))e.forEach(function(e,r){p.test(t)?o(t,e):(r="object"===_typeof(e)&&null!=e?r:"",n("".concat(t,"[").concat(r,"]"),e))});else if("object"===_typeof(e)&&null!=e)for(var r=0,i=Object.entries(e);r<i.length;r++){var l=_slicedToArray(i[r],2),a=l[0],l=l[1];n("".concat(t,"[").concat(a,"]"),l)}else o(t,e)}var t=[],p=/\[\]$/;if(Array.isArray(e))e.forEach(function(e){return o(e.name,e.value)});else for(var r=0,i=Object.entries(e);r<i.length;r++){var l=_slicedToArray(i[r],2);n(l[0],l[1])}return t.join("&")}function phUrlDeParam(e,n){var p={},c={true:!0,false:!1,null:null};return e.replace(/\+/g," ").split("&").forEach(function(e){var e=e.split("="),r=decodeURIComponent(e[0]),t="",i=p,l=r.split("]["),a=l.length-1,a=/\[/.test(l[0])&&/\]$/.test(l[a])?(l[a]=l[a].replace(/\]$/,""),(l=l.shift().split("[").concat(l)).length-1):0;if(2===e.length)if(t=decodeURIComponent(e[1]),n&&(t=t&&!isNaN(t)?+t:"undefined"===t?void 0:void 0!==c[t]?c[t]:t),a)for(var o=0;o<=a;o++)i=i[r=""===l[o]?i.length:l[o]]=o<a?i[r]||(l[o+1]&&isNaN(l[o+1])?{}:[]):t;else Array.isArray(p[r])?p[r].push(t):void 0!==p[r]?p[r]=[p[r],t]:p[r]=t;else r&&(p[r]=n?void 0:"")}),p}function phUrlParamQueryString(e,r,t){var i,l,a,o="";return void 0!==r?(a=(i=e.match(/^([^#?]*)\??([^#]*)(#?.*)/))[3]||"",o=2===t&&phIsString(r)?r.replace(/^.*\?|#.*$/g,""):(l=phUrlDeParam(i[2]),r=phIsString(r)?phUrlDeParamQueryString(r):r,phUrlParam(o=2===t?r:1===t?_objectSpread(_objectSpread({},r),l):_objectSpread(_objectSpread({},l),r))),i[1]+(o||!i[1]?"?":"")+o+a):phGetQueryString(void 0!==e?e:window.location.href)}function phUrlDeParamQueryString(e,r){return phUrlDeParam(e=void 0===e||"boolean"==typeof e?(r=e,phUrlParamQueryString()):phIsString(e)?e.replace(/^.*\?|#.*$/g,""):e,r)}function phRemoveFilter(e,r,t,i,l,a,o,n){var p=Joomla.getOptions("phParamsPC");1!=p.ajaxSearchingFilteringItems&&(phFilterNewUrlSet=i),e=phArrayToString(e);var c,h=phArrayToString(h=phUrlParamQueryString()),u=phUrlDeParamQueryString(""!==phFilterNewUrlRemove||1==phFilterNewUrlRemovePreviousParamWaiting?phFilterNewUrlRemove:h),s={},m=0;if(void 0!==u.start&&(s.start=0),void 0!==u.limitstart&&(s.limitstart=0),1!=a&&void 0!==u[e]?-1===(a=phCleanArray(a=(h=u[e]).split(","))).indexOf(r)||(-1<(r=a.indexOf(r))&&a.splice(r,1),(h=a.join())?s[e]=h:(delete u[e],s=u,m=2)):(delete u[e],s=u,m=2),1==t&&1!=l||1!=t)return""==(c=i)&&(c=document.location.pathname),document.location=c,1;if(c=location.search,c=phArrayToString(c=""!==phFilterNewUrlRemove||1==phFilterNewUrlRemovePreviousParamWaiting?phFilterNewUrlRemove:c),phFilterNewUrlRemove=phReplaceAll("%2C",",",phFilterNewUrlRemove=phUrlParamQueryString(c,s,m)),phFilterNewUrlRemove=phReplaceAll("%5B","[",phFilterNewUrlRemove),phFilterNewUrlRemove=phReplaceAll("%5D","]",phFilterNewUrlRemove),phFilterNewUrlRemove=phCleanAloneQuestionMark(phFilterNewUrlRemove=phStringToArray(phFilterNewUrlRemove=phReplaceAll("%3A",":",phFilterNewUrlRemove))),1==o){if((phFilterNewUrlRemovePreviousParamWaiting=1)==t&&1==p.ajaxSearchingFilteringItems)return 2}else{if(1==t&&1==p.ajaxSearchingFilteringItems)return phUpdatePageAndParts(phFilterNewUrlRemove,n),phResetNewUrl(1),2;""==phFilterNewUrlRemove&&(phFilterNewUrlRemove=document.location.pathname),document.location=phFilterNewUrlRemove,phResetNewUrl()}return 1}function phSetFilter(e,r,t,i,l,a,o,n){var p=Joomla.getOptions("phParamsPC");r=phFilterValue(r),e=phArrayToString(e);var c=phArrayToString(c=phUrlParamQueryString()),h=phUrlDeParamQueryString(1==phFilterNewUrlSetPreviousParamWaiting?phFilterNewUrlSet=phArrayToString(phFilterNewUrlSet):c),c={};if(void 0!==h.start&&(c.start=0),void 0!==h.limitstart&&(c.limitstart=0),1==a?c[e]=r:""===r||(void 0!==h[e]?(-1===(h=phCleanArray(h=(a=h[e]).split(","))).indexOf(r)&&(h.push(r),a=h.join()),c[e]=a):c[e]=r),i=1==t&&1!=l||1!=t?i:location.search,i=phArrayToString(i=1==phFilterNewUrlSetPreviousParamWaiting?phFilterNewUrlSet:i),phFilterNewUrlSet=phReplaceAll("%2C",",",phFilterNewUrlSet=phUrlParamQueryString(i,c,0)),phFilterNewUrlSet=phReplaceAll("%5B","[",phFilterNewUrlSet),phFilterNewUrlSet=phReplaceAll("%5D","]",phFilterNewUrlSet),phFilterNewUrlSet=phCleanAloneQuestionMark(phFilterNewUrlSet=phCleanEmptyParams(phFilterNewUrlSet=phStringToArray(phFilterNewUrlSet=phReplaceAll("%3A",":",phFilterNewUrlSet)))),1==o){if((phFilterNewUrlSetPreviousParamWaiting=1)==t&&1==p.ajaxSearchingFilteringItems)return 2}else{if(1==t&&1==p.ajaxSearchingFilteringItems)return phUpdatePageAndParts(phFilterNewUrlSet,n),phResetNewUrl(1),2;document.location=phFilterNewUrlSet,phResetNewUrl()}return 1}function phChangeFilter(e,r,t,i,l,a,o){var n=Joomla.getOptions("phVarsModPhocacartFilter"),p=Joomla.getOptions("phParamsModPhocacartFilter"),c=n.isItemsView,h=n.isSef,u=n.urlItemsView,n=(n.urlItemsViewWithoutParams,1);"itemview"==i?n=phSetFilter(e,r=void 0===r?"":r,1,0,1,l,a,o):"text"==i?n=(1==t?phSetFilter:phRemoveFilter)(e,r,c,u,1,l,a,o):"category"==i?(_readOnlyError("urlItemsView"),1==p.removeParametersCat?document.location=u:(p=phUrlParamQueryString(),1==c?1==h?document.location=phUrlParamQueryString(u,p,2):phRemoveFilter(e,r,c,u,1,l,a,o):document.location=u)):"color"==i||"image"==i?jQuery(t).hasClass("on")?(n=phRemoveFilter(e,r,c,u,1,l,a,o),jQuery(t).removeClass("on")):(n=phSetFilter(e,r,c,u,1,l,a,o),jQuery(t).addClass("on")):n=(t.checked?phSetFilter:phRemoveFilter)(e,r,c,u,1,l,a,o),startFullOverlay(n)}function phChangeSearch(e,r,t){var i=Joomla.getOptions("phVarsModPhocacartSearch"),l=Joomla.getOptions("phParamsModPhocacartSearch"),a=i.isItemsView,o=i.urlItemsView,n=i.urlItemsViewWithoutParams,p=1,i=a;alert(l.searchOptions),p=1==t?(1==l.searchOptions?0<jQuery("#phSearchBoxSearchAllProducts:checked").length&&(o=n,i=0):i=0,phSetFilter(e,r,a,o,i,1,0,2)):phRemoveFilter(e,r,a,o,i,1,0,2),startFullOverlay(p)}function phPriceFilterRange(){var i=Joomla.getOptions("phParamsPC"),l=Joomla.getOptions("phLangPC");"function"==typeof jQuery("#phPriceFilterRange").slider&&jQuery("#phPriceFilterRange").slider({range:!0,min:i.filterPriceMin,max:i.filterPriceMax,values:[i.filterPriceFrom,i.filterPriceTo],slide:function(e,r){jQuery("#phPriceFromTopricefrom").val(r.values[0]),jQuery("#phPriceFromTopriceto").val(r.values[1]),jQuery("#phPriceFilterPrice").html(l.COM_PHOCACART_PRICE+": "+phGetPriceFormat(r.values[0])+" - "+phGetPriceFormat(r.values[1]))}}),jQuery("#phPriceFilterPrice").html(l.COM_PHOCACART_PRICE+": "+phGetPriceFormat(i.filterPriceFrom)+" - "+phGetPriceFormat(i.filterPriceTo)),jQuery("#phPriceFromTopricefrom").on("change",function(e){var r=jQuery("#phPriceFromTopricefrom").val(),t=jQuery("#phPriceFromTopriceto").val();""==t&&(t=i.filterPriceMax),""==r&&(r=i.filterPriceMin),Number(t)<Number(r)&&(t=r,jQuery("#phPriceFromTopriceto").val(t)),"function"==typeof jQuery("#phPriceFilterRange").slider&&jQuery("#phPriceFilterRange").slider({values:[r,t]}),jQuery("#phPriceFilterPrice").html(l.COM_PHOCACART_PRICE+": "+phGetPriceFormat(r)+" - "+phGetPriceFormat(t))}),jQuery("#phPriceFromTopriceto").on("change",function(e){var r=jQuery("#phPriceFromTopricefrom").val(),t=jQuery("#phPriceFromTopriceto").val();""==t&&(t=i.filterPriceMax),""==r&&(r=i.filterPriceMin),Number(t)<Number(r)&&(t=r,jQuery("#phPriceFromTopriceto").val(t)),"function"==typeof jQuery("#phPriceFilterRange").slider&&jQuery("#phPriceFilterRange").slider({values:[r,t]}),jQuery("#phPriceFilterPrice").html(l.COM_PHOCACART_PRICE+": "+phGetPriceFormat(r)+" - "+phGetPriceFormat(t))})}function phClearField(e){jQuery(e).val(""),"#phPriceFromTopricefrom"!=e&&"#phPriceFromTopriceto"!=e||phPriceFilterRange()}jQuery(document).ready(function(){jQuery(".collapse").on("shown.bs.collapse",function(){jQuery(this).parent().find(".glyphicon-triangle-right").removeClass("glyphicon-triangle-right").addClass("glyphicon-triangle-bottom"),jQuery(this).parent().find(".fa-caret-right").removeClass("fa-caret-right").addClass("fa-caret-down");var e,r=jQuery(this).parent().find("svg use").first();0<r.length&&(e=(e=r.attr("xlink:href")).replace("#pc-si-triangle-right","#pc-si-triangle-bottom"),r.attr("xlink:href",e))}).on("hidden.bs.collapse",function(){jQuery(this).parent().find(".glyphicon-triangle-bottom").removeClass("glyphicon-triangle-bottom").addClass("glyphicon-triangle-right"),jQuery(this).parent().find(".fa-caret-down").removeClass("fa-caret-down").addClass("fa-caret-right");var e,r=jQuery(this).parent().find("svg use").first();0<r.length&&(e=(e=r.attr("xlink:href")).replace("#pc-si-triangle-bottom","#pc-si-triangle-right"),r.attr("xlink:href",e))}),phPriceFilterRange()});