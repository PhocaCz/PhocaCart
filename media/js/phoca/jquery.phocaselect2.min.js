function phSearchItemsMultiple(e,t,r,s,n,a){a=void 0!==a?a:0;jQuery(e).select2({placeholder:"",minimumInputLength:1,maximumSelectionSize:a,multiple:s,ajax:{url:t,dataType:"json",data:function(e,t){return{q:e,page_limit:10,item_id:r}},results:function(e,t){return 0==e.status?{results:e.error}:{results:e.items}}},formatResult:formatResult,formatSelection:formatSelection,initSelection:function(e,t){var r=[];jQuery(e.val().split(""+n)).each(function(e){var t=this.split(":");r.push({id:t[0],title:t[1]})}),0==s?t(r[0]):(jQuery(e).val(""),t(r))}})}function formatResult(e){var t=Joomla.getOptions("phVars");let r='<div class="ph-select-search-result"><span class="ph-select-search-result-image">';return e.image&&(r+='<img src="'+t.uriRoot+e.image+'"/>'),r=(r+="</span>")+('<span class="ph-select-search-result-title">'+(e.title??"")+"</span>")+'<span class="ph-select-search-result-codes">',e.sku&&(r+=Joomla.Text._("COM_PHOCACART_SKU")+": "+e.sku),e.ean&&(e.sku&&(r+=", "),r+=Joomla.Text._("COM_PHOCACART_EAN")+": "+e.ean),r=(r+="</span>")+('<span class="ph-select-search-result-categories">'+(e.categories_title??"")+"</span>")+"</div>"}function formatSelection(e){return e.categories&&jQuery("#jform_request_catid").length&&(jQuery("#jform_request_catid option").remove(),jQuery(e.categories.split(",")).each(function(e){var t=this.split(":");jQuery("#jform_request_catid").append(jQuery("<option>",{value:t[0],text:t[1]}))}),jQuery("select").trigger("liszt:updated"),jQuery("select").trigger("chosen:updated")),e.title}!function(e){"use strict";var r=Joomla.getOptions("phLang");e.extend(e.fn.select2.defaults,{formatNoMatches:function(){return r.COM_PHOCACART_NO_MATCHES_FOUND},formatInputTooShort:function(e,t){t-=e.length;return r.COM_PHOCACART_PLEASE_ENTER+" "+t+" "+r.COM_PHOCACART_S_MORE_CHARACTER+(1==t?"":"s")},formatInputTooLong:function(e,t){e=e.length-t;return r.COM_PHOCACART_PLEASE_DELETE+" "+e+" "+r.COM_PHOCACART_S_CHARACTER+(1==e?"":"s")},formatSelectionTooBig:function(e){return r.COM_PHOCACART_YOU_CAN_ONLY_SELECT+" "+e+" "+r.COM_PHOCACART_S_ITEM+(1==e?"":"s")},formatLoadMore:function(e){return r.COM_PHOCACART_LOADING_MORE_RESULTS+" ..."},formatSearching:function(){return r.COM_PHOCACART_SEARCHING+" ..."}})}(jQuery);