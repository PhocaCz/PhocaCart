function phShowModal(e,t){("uikit"==Joomla.getOptions("phParamsPC").theme?(UIkit.modal(e,t),UIkit.modal(e)):new bootstrap.Modal(e,t)).show()}function phAppendContainerRequest(){0===jQuery("#phContainerRequest").length&&jQuery("body").append('<div id="phContainerRequest"></div>')}function phAppendContainerRequestQickView(){0===jQuery("#phContainerRequestQuickView").length&&jQuery("body").append('<div id="phContainerRequestQuickView"></div>')}function phDoRequestSuccess(e,t){var o,i,r;"cart"==t.type?(jQuery(t.class).html(e.item),jQuery(t.class+"Count").html(e.count),jQuery(t.class+"Total").html(e.total),1==t.pos&&(i=phAddSuffixToUrl(window.location.href,"format=raw"),o=phPosCurrentData("main.input"),phDoSubmitFormUpdateInputBox(o,i),jQuery(".ph-pos-message-box").html(e.message),phPosManagePage()),2==t.method&&(phAppendContainerRequest(),jQuery("#phContainerRequest").html(e.popup),phShowModal(document.getElementById("phAddToCartPopup"),{})),1==t.method&&1==t.view&&(startFullOverlay(1),setTimeout(function(){location.reload()},1))):"compare"==t.type?(jQuery(".phItemCompareBox").html(e.item),jQuery(".phItemCompareBoxCount").html(e.count),2==t.method&&(phAppendContainerRequest(),jQuery("#phContainerRequest").html(e.popup),"add"==t.task?phShowModal(document.getElementById("phAddToComparePopup"),{}):"remove"==t.task&&phShowModal(document.getElementById("phRemoveFromComparePopup"),{})),1==t.method&&1==t.view&&(startFullOverlay(1),setTimeout(function(){location.reload()},1))):"wishlist"==t.type?(jQuery(".phItemWishListBox").html(e.item),jQuery(".phItemWishListBoxCount").html(e.count),2==t.method&&(phAppendContainerRequest(),jQuery("#phContainerRequest").html(e.popup),"add"==t.task?phShowModal(document.getElementById("phAddToWishListPopup"),{}):"remove"==t.task&&phShowModal(document.getElementById("phRemoveFromWishListPopup"),{})),1==t.method&&1==t.view&&(startFullOverlay(1),setTimeout(function(){location.reload()},1))):"quickview"==t.type?(jQuery(".phjItemQuick.phjProductAttribute").remove(),phAppendContainerRequestQickView(),jQuery("#phContainerRequestQuickView").html(e.popup),phShowModal(document.getElementById("phQuickViewPopup"),{}),0<t.load_chosen&&jQuery("select").chosen("destroy").chosen({disable_search_threshold:10,allow_single_deselect:!0}),phChangeAttributeType("ItemQuick"),0<t.quantity_input_spinner&&jQuery("input[name='quantity']:visible").TouchSpin({verticalbuttons:!0,verticalup:t.icon_spinner_verticalup,verticaldown:t.icon_spinner_verticaldown})):"changedata"==t.type&&(void 0!==e.item.image&&""!==e.item.image&&2==t.method_image&&(o=".phjProductImage"+t.id_item_name,i=".phjProductSource"+t.id_item_name,r=".phjProductHref"+t.id_item_name,jQuery(r).attr("href",e.item.image),jQuery(o).attr("src",e.item.image),jQuery(i).attr("srcset",e.item.image)),void 0!==e.item.price&&(jQuery(t.id_item_price).html(e.item.price),jQuery(t.id_item_price_gift).html(e.item.priceitems.bruttoformat)),void 0!==e.item.id&&jQuery(t.id_item_id).html(e.item.id),void 0!==e.item.stock)&&(1==t.method_stock&&(1==e.item.hideaddtocart?(jQuery(t.product_add_to_cart_item).css("visibility","hidden"),jQuery(t.product_add_to_cart_item_icon).css("display","none")):(jQuery(t.product_add_to_cart_item).css("visibility","visible"),jQuery(t.product_add_to_cart_item_icon).css("display","block"))),jQuery(t.id_item_stock).html(e.item.stock))}function phDoRequestError(e,t){"cart"==t.type&&(1==t.pos&&(jQuery(".ph-pos-message-box").html(e.error),phPosManagePage()),2!=t.method&&jQuery(".phItemCartBox").html(e.error),2==t.method&&(phAppendContainerRequest(),jQuery("#phContainerRequest").html(e.popup),phShowModal(document.getElementById("phAddToCartPopup"),{})),1==t.method)&&1==t.view&&(startFullOverlay(1),setTimeout(function(){location.reload()},1))}function phDoRequestMethods(e,t,o){return jQuery.ajax({type:"POST",url:e,async:"false",cache:"false",data:t,dataType:"JSON",success:function(e){1==e.status?phDoRequestSuccess(e,o):0==e.status&&phDoRequestError(e,o)}}),!1}jQuery(document).ready(function(){jQuery(document).on("submit","form.phItemCartBoxForm",function(e){"function"==typeof phDoSubmitFormAddToCart&&(e.preventDefault(),e=jQuery(this).serialize(),phDoSubmitFormAddToCart(e))}),jQuery(document).on("click","#ph-pc-pos-site form.phItemCartUpdateBoxForm button",function(e){var t;"function"==typeof phDoSubmitFormAddToCart&&(e.preventDefault(),e=jQuery(this).closest("form"),t=jQuery(this).val(),e=e.serialize()+"&action="+t,phDoSubmitFormUpdateCart(e))})});