!function(s,u){var h,p,n=Array.prototype.slice,g=decodeURIComponent,f=s.param,d=(s.bbq=s.bbq||{},s.event.special,"querystring"),y="fragment",$=/^.*\?|#.*$/g,v=/^.*\#/;function b(e){return"string"==typeof e}function e(e){var t=n.call(arguments,1);return function(){return e.apply(this,t.concat(n.call(arguments)))}}function t(e,t,n,r,a){var l,c,i,o;return r!==h?(o=(c=n.match(e?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/))[3]||"",2===a&&b(r)?l=r.replace(e?v:$,""):(i=p(c[2]),r=b(r)?p[e?y:d](r):r,l=2===a?r:1===a?s.extend({},r,i):s.extend({},i,r),l=f(l),e&&(l=l.replace(void 0,g))),c[1]+(e?"#":l||!c[1]?"?":"")+l+o):t(n!==h?n:u.location.href)}function r(e,t,n){return t=t===h||"boolean"==typeof t?(n=t,f[e?y:d]()):b(t)?t.replace(e?v:$,""):t,p(t,n)}f[d]=e(t,0,function(e){return e.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}),f[y]=e(t,1,function(e){return e.replace(/^[^#]*#?(.*)$/,"$1")}),s.deparam=p=function(e,u){var p={},f={true:!0,false:!1,null:null};return s.each(e.replace(/\+/g," ").split("&"),function(e,t){var n,r=t.split("="),a=g(r[0]),l=p,c=0,i=a.split("]["),o=i.length-1;if(o=/\[/.test(i[0])&&/\]$/.test(i[o])?(i[o]=i[o].replace(/\]$/,""),(i=i.shift().split("[").concat(i)).length-1):0,2===r.length)if(n=g(r[1]),u&&(n=n&&!isNaN(n)?+n:"undefined"===n?h:f[n]!==h?f[n]:n),o)for(;c<=o;c++)l=l[a=""===i[c]?l.length:i[c]]=c<o?l[a]||(i[c+1]&&isNaN(i[c+1])?{}:[]):n;else s.isArray(p[a])?p[a].push(n):p[a]!==h?p[a]=[p[a],n]:p[a]=n;else a&&(p[a]=u?h:"")}),p},p[d]=e(r,0),p[y]=e(r,1)}(jQuery,this);